
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="summary of what this page is about">
<title>CIS 114 Assignment 6</title>

<style>
h1,h2,h3,h4,h5,h6, p{
text-align: center;
}

body {
background-color:#ADD8E6;
}

.main {	width:500px;
	margin:0px auto;
	text-align:left; 
	padding: 10px
}

.myFormOutline {
  border-left-style: solid;
  background-color: #FFFAFA;
  padding: 15px;
  Text-align:center;
}
</style>

</head>
<body>

<section  class="main">
<h1> <strong> Objects - Part Two </strong> </h1> 

<h3>Overview: A form where the user enters long text and a letter to then search, then count for, the character that the user typed in the long content, where the text letters are insensitive. If the character is unable to be located, a new window is opened with a message.  </h3><br><br>

<form class="myFormOutline" name="myForm" id="myForm">
<h3>Finding a Letter in a Long Textbox</h3><br>

<label for="longContent"> Enter long content: </label>

<!--<input type="text" id="longContent"  name="longContent" autofocus placeholder="Enter long text"> <br><br>
<span id="nameErrMsg" class="error"></span> <br> -->

<textarea name="longContent" id="longContent" rows="8" cols="50" autofocus placeholder="Enter long text"></textarea><br><br>   

<label for="letter"> Enter a letter: </label>
<input type="text" id="letter"  name="letter" maxlength="1" placeholder="Enter a letter"> <br><br>

<!--a button to each submit and clear the form-->
<input style="background-color:#20B2AA; font-size: 10px; padding:15px;border-radius: 30px 30px 30px 30px;  width: 110px; height: 45px; " type="button" onclick="search()" value="SUBMIT"> 

<input style="background-color:#778899; font-size: 10px; padding:15px;padding:15px;border-radius: 30px 30px 30px 30px;  width: 110px; height: 45px;" type="button" onclick="re()" value="CLEAR"> <br><br>
</form>


<!--paragraph element that will serve as the output/result area-->
<p id="resultDiv"></p>

<p><a href="hw6.html">Back to Main HW 6 Page (Homework 1)</a></p>
</section>



<script>

 function search()
         {
            var count=0;
            
            var key=document.getElementById("letter").value.toLowerCase().charAt( 0 );
             var key=key.toLowerCase();

            var stringToSearch=document.getElementById("longContent").value;
            var stringToSearch=stringToSearch.toLowerCase(); 
  
                        
             for (i=0; i < stringToSearch.length; i++)
                     {

                    if (stringToSearch.charAt(i) == key)
                             count++;     
                     }         
      
            if ( count == 0 ){
		errMsgWindow() ;}

              // document.getElementById("resultDiv").innerHTML =key + " not found";}
            else {

               document.getElementById("resultDiv").innerHTML = count + 
                  " occurrence(s) of " + key + " found."; }
		document.getElementById("resultDiv").style.color = "#ff0000";

         }


// error window to show
function errMsgWindow()
         {
         
          var userLetter =document.getElementById("letter").value;

           //if (userLetter.length = " " || userLetter.length> 2) {      


            // assemble HTML to put into new window:

           var myText = "<html>\n";
           myText += "<head>\n";
           myText += "<title>Invalid Letter.</title>\n";
           myText += "</head>\n";
           myText += "<body>\n";
           myText += "<div align='center'>\n";


           myText += "<h4>Search character " + userLetter + " is unable to be found in the content you typed.</h4>\n";
           myText += "<input type='button' value='Close Window' onclick='window.close()'>\n";
           myText += "</div>\n";
           myText += "</body>\n";
           myText += "</html>";
        
          // open window on the upper right of the screen
        
          var errWindow = window.open("", "new_window", "top=220,left=50,width=300,height=100", rel="noopener noreferrer" );
          
          errWindow.focus();

         // pump html into to this new opened window
         
               errWindow.document.write(myText);

          // tell browser that errWindow document is finished loading

               
		errWindow.document.close();

          // Put error msg in input text box of original page

               document.getElementById("resultDiv").innerHTML = "View the pop-up window.";
          // }
     }


function re() {
  document.getElementById("resultDiv").innerHTML = "";
  document.getElementById("myForm").reset();
}

</script>
</body>
</html> 
